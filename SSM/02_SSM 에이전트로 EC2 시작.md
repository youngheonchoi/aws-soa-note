## 1. **SSM Agent와 IAM 역할**
   - **SSM Agent**는 EC2 인스턴스 또는 온프레미스 서버에서 실행되어 **Systems Manager**와의 통신을 담당.
   - Amazon Linux 2와 같은 일부 운영 체제에는 **SSM Agent**가 기본으로 포함되어 있음.
   - **IAM 역할**은 EC2 인스턴스가 **Systems Manager**와 상호 작용할 수 있도록 필요한 권한을 제공.
   - 인스턴스를 SSM에 등록하려면 **AmazonSSMManagedInstanceCore**와 같은 역할을 할당해야 함.

<br>

## 2. **EC2 인스턴스의 SSM 등록 절차**
   - **IAM 역할을 사용**하여 EC2 인스턴스를 SSM에 등록.
   - EC2 인스턴스 실행 시 **IAM 인스턴스 프로파일**을 설정해야 하며, 이를 통해 EC2가 SSM과 통신할 수 있는 권한을 부여.
   - **보안 그룹**에서 인스턴스에 접근할 필요가 없으므로 **인바운드 규칙을 제거**할 수 있음. 실제 서비스 접근은 **SSM Agent**를 통해 이루어짐.
 
<br>

## 3. **Fleet Manager에서 관리 노드 보기**
   - **Fleet Manager**는 **SSM**에 등록된 인스턴스를 관리하는 도구.
   - 인스턴스가 **Running 상태**일 때, **Fleet Manager**에서 관리 노드로 나타나며 **운영 체제**, **플랫폼**, **온라인 상태** 등을 확인할 수 있음.
   - **SSM Agent**가 **Running 상태**로 실행되며, 이를 통해 EC2 인스턴스의 상태를 실시간으로 모니터링할 수 있음.

<br>

## 4. **보안 그룹과 연결**
   - SSM을 통해 관리되는 인스턴스는 외부와의 직접적인 연결 없이 **SSM Agent**를 통해서만 접근 가능.
   - 이를 위해 EC2 인스턴스의 **보안 그룹**에서 **인바운드 규칙을 비활성화**하여 외부 접근을 차단하고, **SSM Agent**가 접근을 담당.

<br>

## **요약**  
- **SSM Agent**를 통해 EC2 인스턴스를 관리하려면 **적절한 IAM 역할**과 **보안 설정**이 필요.
- **Fleet Manager**는 **SSM Agent**가 등록된 인스턴스를 관리하고, 상태와 플랫폼을 확인할 수 있는 도구.