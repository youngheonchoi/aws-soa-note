## 1. **문서의 정의**
   - SSM 문서는 JSON 또는 YAML 형식으로 작성되며, 매개변수를 정의하여 작업을 정의합니다.
   - 문서는 특정 서비스에 의해 실행되며, AWS에서 제공되는 문서들을 활용하여 작업을 빠르게 진행할 수 있습니다.

<br>

## 2. **문서의 구성**
   - 문서는 `description`, `parameters`, `steps`, `actions` 등을 포함합니다. 각 단계에서 명령을 실행할 수 있습니다.
   - SSM 문서는 CloudFormation과 유사하지만, SSM의 중심인 문서가 작업을 정의합니다.

<br>

## 3. **SSM 문서의 용도**
   - 문서는 다양한 SSM 기능에서 사용됩니다. 예를 들어, `State Manager`, `Patch Manager`, `Automation`, `Parameter Store`와 같은 기능에 활용됩니다.
   - 문서를 사용하여 특정 작업을 자동화하고, SSM Parameter Store에서 데이터를 검색하여 역동성을 제공합니다.

<br>

## 4. **문서 생성 방법**
   - `Systems Manager`에서 "Shared Resources" 아래에 있는 `Documents`에서 문서를 생성하고 관리할 수 있습니다.
   - 생성된 문서는 `Owned by Amazon`과 `Owned by me`로 구분됩니다. 사용자는 자신이 생성한 문서를 관리하고 실행할 수 있습니다.

<br>

## 5. **문서 실행 예시**
   - `AWS-ApplyPatchBaseline` 문서를 통해 패치를 설치하거나 스캔하는 등의 작업을 할 수 있습니다.
   - 문서의 매개변수로 운영 체제, 스냅샷 ID 등의 설정을 포함할 수 있습니다.

<br>

## 6. **문서 생성 및 실행**
   - 문서 생성 후 `Run Command`를 통해 명령을 실행할 수 있습니다. `EC2 인스턴스`에 대해 명령을 실행하거나, 특정 리소스 그룹을 대상으로 명령을 실행할 수 있습니다.
   - 명령 실행 시 오류 제어 및 속도 제어 기능을 설정할 수 있습니다.

<br>

## 7. **예시: HTTP 서버 설치**
   - HTTP 서버를 설치하는 예시에서는 EC2 인스턴스에 대한 명령을 실행하는 문서를 작성하고, SSM을 통해 명령을 실행하여 서버를 설치합니다.
   - 문서 내에 포함된 주요 단계로는 `ShellScript` 실행, EC2 인스턴스 업데이트, HTTPD 설치 등이 있습니다.

<br>

## 8. **명령 실행 및 출력 확인**
   - 명령을 실행한 후, `CloudWatch Logs`나 `Amazon S3`로 명령 출력 결과를 확인할 수 있습니다.
   - 명령 실행 후 출력 결과는 `SNS` 알림으로 받아볼 수 있으며, 명령이 성공적으로 실행되었는지 여부를 알 수 있습니다.

<br>

## 9. **보안 및 로그 관리**
   - 명령 실행은 SSH 포트 없이도 가능하며, SSM Agent가 명령을 대신 실행합니다. 이로 인해 보안에 타협하지 않으면서 작업을 수행할 수 있습니다.
   - `CloudWatch Logs`에서 명령 실행에 대한 자세한 로그를 확인할 수 있습니다.

<br>

## 10. **결과 확인**
    - 명령 실행 후, 각 EC2 인스턴스에서 명령이 정상적으로 실행되었는지 확인할 수 있습니다. 출력 메시지나 설치된 웹 서버의 동작을 통해 결과를 검토합니다.

SSM 문서를 활용하여 여러 EC2 인스턴스에 걸쳐 명령을 효율적으로 실행할 수 있으며, 보안과 오류 제어를 관리하면서 작업을 자동화할 수 있습니다.